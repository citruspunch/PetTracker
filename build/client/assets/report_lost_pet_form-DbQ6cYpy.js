import{w as P}from"./with-props-C_P4RWeF.js";import{x as e,a as d,w as y,y as F,o as t}from"./chunk-LSOULM7L-DOIZURii.js";import{L as b}from"./Loader-Co2d-Jsj.js";import{N as w}from"./navbar-BNK_UxnV.js";import{B as M}from"./index-KK9O1wv8.js";import{f as N,C as q,T as R,e as I}from"./textarea-BLlpFkxC.js";import{z as i,u as O,F as _,b as m,d as u,e as p,P as D,h as W,f as h,i as T,g as f,j,s as B}from"./index-K-pNMs4F.js";import{I as Z}from"./input-BMp6xtz3.js";import{a as v,s as g,c as z}from"./createLucideIcon-CLtTwt0x.js";import{S as A}from"./IconBase-2_1jK8r0.js";import{t as E}from"./index-DlVqQRiW.js";import{E as $}from"./EmptyState-cUA8gEqw.js";import"./loader-circle-Dtw2UbxQ.js";import"./index-BPjMvHEu.js";import"./index-BaeFmNgZ.js";import"./index-2UufBPTQ.js";import"./iconBase-DWGiJmbw.js";const G=new Map([["Bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M7.75 2.5C7.75 2.08579 7.41421 1.75 7 1.75C6.58579 1.75 6.25 2.08579 6.25 2.5V4.07926C4.81067 4.19451 3.86577 4.47737 3.17157 5.17157C2.47737 5.86577 2.19451 6.81067 2.07926 8.25H21.9207C21.8055 6.81067 21.5226 5.86577 20.8284 5.17157C20.1342 4.47737 19.1893 4.19451 17.75 4.07926V2.5C17.75 2.08579 17.4142 1.75 17 1.75C16.5858 1.75 16.25 2.08579 16.25 2.5V4.0129C15.5847 4 14.839 4 14 4H10C9.16097 4 8.41527 4 7.75 4.0129V2.5Z",fill:"currentColor"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.161 2 10.4153 2.0129 9.75H21.9871C22 10.4153 22 11.161 22 12V14C22 17.7712 22 19.6569 20.8284 20.8284C19.6569 22 17.7712 22 14 22H10C6.22876 22 4.34315 22 3.17157 20.8284C2 19.6569 2 17.7712 2 14V12ZM17 14C17.5523 14 18 13.5523 18 13C18 12.4477 17.5523 12 17 12C16.4477 12 16 12.4477 16 13C16 13.5523 16.4477 14 17 14ZM17 18C17.5523 18 18 17.5523 18 17C18 16.4477 17.5523 16 17 16C16.4477 16 16 16.4477 16 17C16 17.5523 16.4477 18 17 18ZM13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13ZM13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17ZM7 14C7.55228 14 8 13.5523 8 13C8 12.4477 7.55228 12 7 12C6.44772 12 6 12.4477 6 13C6 13.5523 6.44772 14 7 14ZM7 18C7.55228 18 8 17.5523 8 17C8 16.4477 7.55228 16 7 16C6.44772 16 6 16.4477 6 17C6 17.5523 6.44772 18 7 18Z",fill:"currentColor"}))],["BoldDuotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M6.94028 2C7.35614 2 7.69326 2.32421 7.69326 2.72414V4.18487C8.36117 4.17241 9.10983 4.17241 9.95219 4.17241H13.9681C14.8104 4.17241 15.5591 4.17241 16.227 4.18487V2.72414C16.227 2.32421 16.5641 2 16.98 2C17.3958 2 17.733 2.32421 17.733 2.72414V4.24894C19.178 4.36022 20.1267 4.63333 20.8236 5.30359C21.5206 5.97385 21.8046 6.88616 21.9203 8.27586L22 9H2.92456H2V8.27586C2.11571 6.88616 2.3997 5.97385 3.09665 5.30359C3.79361 4.63333 4.74226 4.36022 6.1873 4.24894V2.72414C6.1873 2.32421 6.52442 2 6.94028 2Z",fill:"currentColor"}),e.createElement("path",{opacity:"0.5",d:"M21.9995 14.0001V12.0001C21.9995 11.161 21.9963 9.66527 21.9834 9H2.00917C1.99626 9.66527 1.99953 11.161 1.99953 12.0001V14.0001C1.99953 17.7713 1.99953 19.6569 3.1711 20.8285C4.34267 22.0001 6.22829 22.0001 9.99953 22.0001H13.9995C17.7708 22.0001 19.6564 22.0001 20.828 20.8285C21.9995 19.6569 21.9995 17.7713 21.9995 14.0001Z",fill:"currentColor"}),e.createElement("path",{d:"M18 17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17C16 16.4477 16.4477 16 17 16C17.5523 16 18 16.4477 18 17Z",fill:"currentColor"}),e.createElement("path",{d:"M18 13C18 13.5523 17.5523 14 17 14C16.4477 14 16 13.5523 16 13C16 12.4477 16.4477 12 17 12C17.5523 12 18 12.4477 18 13Z",fill:"currentColor"}),e.createElement("path",{d:"M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z",fill:"currentColor"}),e.createElement("path",{d:"M13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13Z",fill:"currentColor"}),e.createElement("path",{d:"M8 17C8 17.5523 7.55228 18 7 18C6.44772 18 6 17.5523 6 17C6 16.4477 6.44772 16 7 16C7.55228 16 8 16.4477 8 17Z",fill:"currentColor"}),e.createElement("path",{d:"M8 13C8 13.5523 7.55228 14 7 14C6.44772 14 6 13.5523 6 13C6 12.4477 6.44772 12 7 12C7.55228 12 8 12.4477 8 13Z",fill:"currentColor"}))],["Broken",e.createElement(e.Fragment,null,e.createElement("path",{d:"M14 22H10C6.22876 22 4.34315 22 3.17157 20.8284C2 19.6569 2 17.7712 2 14V12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4H14C17.7712 4 19.6569 4 20.8284 5.17157C22 6.34315 22 8.22876 22 12V14C22 17.7712 22 19.6569 20.8284 20.8284C20.1752 21.4816 19.3001 21.7706 18 21.8985",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.createElement("path",{d:"M7 4V2.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.createElement("path",{d:"M17 4V2.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.createElement("path",{d:"M21.5 9H16.625H10.75M2 9H5.875",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.createElement("path",{d:"M18 17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17C16 16.4477 16.4477 16 17 16C17.5523 16 18 16.4477 18 17Z",fill:"currentColor"}),e.createElement("path",{d:"M18 13C18 13.5523 17.5523 14 17 14C16.4477 14 16 13.5523 16 13C16 12.4477 16.4477 12 17 12C17.5523 12 18 12.4477 18 13Z",fill:"currentColor"}),e.createElement("path",{d:"M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z",fill:"currentColor"}),e.createElement("path",{d:"M13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13Z",fill:"currentColor"}),e.createElement("path",{d:"M8 17C8 17.5523 7.55228 18 7 18C6.44772 18 6 17.5523 6 17C6 16.4477 6.44772 16 7 16C7.55228 16 8 16.4477 8 17Z",fill:"currentColor"}),e.createElement("path",{d:"M8 13C8 13.5523 7.55228 14 7 14C6.44772 14 6 13.5523 6 13C6 12.4477 6.44772 12 7 12C7.55228 12 8 12.4477 8 13Z",fill:"currentColor"}))],["Linear",e.createElement(e.Fragment,null,e.createElement("path",{d:"M2 12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4H14C17.7712 4 19.6569 4 20.8284 5.17157C22 6.34315 22 8.22876 22 12V14C22 17.7712 22 19.6569 20.8284 20.8284C19.6569 22 17.7712 22 14 22H10C6.22876 22 4.34315 22 3.17157 20.8284C2 19.6569 2 17.7712 2 14V12Z",stroke:"currentColor",strokeWidth:"1.5"}),e.createElement("path",{d:"M7 4V2.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.createElement("path",{d:"M17 4V2.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.createElement("path",{d:"M2.5 9H21.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.createElement("path",{d:"M18 17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17C16 16.4477 16.4477 16 17 16C17.5523 16 18 16.4477 18 17Z",fill:"currentColor"}),e.createElement("path",{d:"M18 13C18 13.5523 17.5523 14 17 14C16.4477 14 16 13.5523 16 13C16 12.4477 16.4477 12 17 12C17.5523 12 18 12.4477 18 13Z",fill:"currentColor"}),e.createElement("path",{d:"M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z",fill:"currentColor"}),e.createElement("path",{d:"M13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13Z",fill:"currentColor"}),e.createElement("path",{d:"M8 17C8 17.5523 7.55228 18 7 18C6.44772 18 6 17.5523 6 17C6 16.4477 6.44772 16 7 16C7.55228 16 8 16.4477 8 17Z",fill:"currentColor"}),e.createElement("path",{d:"M8 13C8 13.5523 7.55228 14 7 14C6.44772 14 6 13.5523 6 13C6 12.4477 6.44772 12 7 12C7.55228 12 8 12.4477 8 13Z",fill:"currentColor"}))],["LineDuotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M2 12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4H14C17.7712 4 19.6569 4 20.8284 5.17157C22 6.34315 22 8.22876 22 12V14C22 17.7712 22 19.6569 20.8284 20.8284C19.6569 22 17.7712 22 14 22H10C6.22876 22 4.34315 22 3.17157 20.8284C2 19.6569 2 17.7712 2 14V12Z",stroke:"currentColor",strokeWidth:"1.5"}),e.createElement("path",{opacity:"0.5",d:"M7 4V2.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.createElement("path",{opacity:"0.5",d:"M17 4V2.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.createElement("path",{opacity:"0.5",d:"M2.5 9H21.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.createElement("path",{d:"M18 17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17C16 16.4477 16.4477 16 17 16C17.5523 16 18 16.4477 18 17Z",fill:"currentColor"}),e.createElement("path",{d:"M18 13C18 13.5523 17.5523 14 17 14C16.4477 14 16 13.5523 16 13C16 12.4477 16.4477 12 17 12C17.5523 12 18 12.4477 18 13Z",fill:"currentColor"}),e.createElement("path",{d:"M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z",fill:"currentColor"}),e.createElement("path",{d:"M13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13Z",fill:"currentColor"}),e.createElement("path",{d:"M8 17C8 17.5523 7.55228 18 7 18C6.44772 18 6 17.5523 6 17C6 16.4477 6.44772 16 7 16C7.55228 16 8 16.4477 8 17Z",fill:"currentColor"}),e.createElement("path",{d:"M8 13C8 13.5523 7.55228 14 7 14C6.44772 14 6 13.5523 6 13C6 12.4477 6.44772 12 7 12C7.55228 12 8 12.4477 8 13Z",fill:"currentColor"}))],["Outline",e.createElement(e.Fragment,null,e.createElement("path",{d:"M17 14C17.5523 14 18 13.5523 18 13C18 12.4477 17.5523 12 17 12C16.4477 12 16 12.4477 16 13C16 13.5523 16.4477 14 17 14Z",fill:"currentColor"}),e.createElement("path",{d:"M17 18C17.5523 18 18 17.5523 18 17C18 16.4477 17.5523 16 17 16C16.4477 16 16 16.4477 16 17C16 17.5523 16.4477 18 17 18Z",fill:"currentColor"}),e.createElement("path",{d:"M13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13Z",fill:"currentColor"}),e.createElement("path",{d:"M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z",fill:"currentColor"}),e.createElement("path",{d:"M7 14C7.55229 14 8 13.5523 8 13C8 12.4477 7.55229 12 7 12C6.44772 12 6 12.4477 6 13C6 13.5523 6.44772 14 7 14Z",fill:"currentColor"}),e.createElement("path",{d:"M7 18C7.55229 18 8 17.5523 8 17C8 16.4477 7.55229 16 7 16C6.44772 16 6 16.4477 6 17C6 17.5523 6.44772 18 7 18Z",fill:"currentColor"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 1.75C7.41421 1.75 7.75 2.08579 7.75 2.5V3.26272C8.412 3.24999 9.14133 3.24999 9.94346 3.25H14.0564C14.8586 3.24999 15.588 3.24999 16.25 3.26272V2.5C16.25 2.08579 16.5858 1.75 17 1.75C17.4142 1.75 17.75 2.08579 17.75 2.5V3.32709C18.0099 3.34691 18.2561 3.37182 18.489 3.40313C19.6614 3.56076 20.6104 3.89288 21.3588 4.64124C22.1071 5.38961 22.4392 6.33855 22.5969 7.51098C22.75 8.65018 22.75 10.1058 22.75 11.9435V14.0564C22.75 15.8941 22.75 17.3498 22.5969 18.489C22.4392 19.6614 22.1071 20.6104 21.3588 21.3588C20.6104 22.1071 19.6614 22.4392 18.489 22.5969C17.3498 22.75 15.8942 22.75 14.0565 22.75H9.94359C8.10585 22.75 6.65018 22.75 5.51098 22.5969C4.33856 22.4392 3.38961 22.1071 2.64124 21.3588C1.89288 20.6104 1.56076 19.6614 1.40314 18.489C1.24997 17.3498 1.24998 15.8942 1.25 14.0564V11.9436C1.24998 10.1058 1.24997 8.65019 1.40314 7.51098C1.56076 6.33855 1.89288 5.38961 2.64124 4.64124C3.38961 3.89288 4.33856 3.56076 5.51098 3.40313C5.7439 3.37182 5.99006 3.34691 6.25 3.32709V2.5C6.25 2.08579 6.58579 1.75 7 1.75ZM5.71085 4.88976C4.70476 5.02502 4.12511 5.27869 3.7019 5.7019C3.27869 6.12511 3.02502 6.70476 2.88976 7.71085C2.86685 7.88123 2.8477 8.06061 2.83168 8.25H21.1683C21.1523 8.06061 21.1331 7.88124 21.1102 7.71085C20.975 6.70476 20.7213 6.12511 20.2981 5.7019C19.8749 5.27869 19.2952 5.02502 18.2892 4.88976C17.2615 4.75159 15.9068 4.75 14 4.75H10C8.09318 4.75 6.73851 4.75159 5.71085 4.88976ZM2.75 12C2.75 11.146 2.75032 10.4027 2.76309 9.75H21.2369C21.2497 10.4027 21.25 11.146 21.25 12V14C21.25 15.9068 21.2484 17.2615 21.1102 18.2892C20.975 19.2952 20.7213 19.8749 20.2981 20.2981C19.8749 20.7213 19.2952 20.975 18.2892 21.1102C17.2615 21.2484 15.9068 21.25 14 21.25H10C8.09318 21.25 6.73851 21.2484 5.71085 21.1102C4.70476 20.975 4.12511 20.7213 3.7019 20.2981C3.27869 19.8749 3.02502 19.2952 2.88976 18.2892C2.75159 17.2615 2.75 15.9068 2.75 14V12Z",fill:"currentColor"}))]]);var J=Object.defineProperty,K=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,V=(a,r,o)=>r in a?J(a,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[r]=o,Y=(a,r)=>{for(var o in r||(r={}))U.call(r,o)&&V(a,o,r[o]);if(k)for(var o of k(r))X.call(r,o)&&V(a,o,r[o]);return a},e1=(a,r)=>K(a,Q(r));const H=d.forwardRef((a,r)=>e.createElement(A,e1(Y({ref:r},a),{weights:G})));H.displayName="Calendar";const t1=i.object({lastSeenDate:i.date({required_error:"Es importante que indiques la fecha en la que viste por última vez a tu mascota"}),lastSeenAddress:i.string({required_error:"Es importante que indiques la dirección en la que viste por última vez a tu mascota"}).trim().min(2),contactNumber:i.string({required_error:"El teléfono de contacto es requerido"}).regex(/^\d{8}$/,"Ingresa un número de teléfono válido"),notes:i.string().optional()}),r1=()=>{const a=y(),{petId:r}=F(),[o,n]=d.useState(!1),[l,x]=d.useState(!0),[C,S]=d.useState(null);d.useEffect(()=>{const s=async()=>{x(!0);const c=await g.from("pet").select("*").eq("id",r);if(x(!1),c.error!==null){E.error("Ocurrió un error. Inténtalo de nuevo.");return}if(c.data.length===0){E.error("La mascota que intentas reportar como perdida no existe.");return}S(c.data.at(0))};r!==null&&s()},[r]);const L=async s=>{n(!0);const c=await g.from("lost_pet_report").insert({pet:C.id,last_seen_address:s.lastSeenAddress,last_seen_date:s.lastSeenDate.toISOString(),contact_number:s.contactNumber,notes:s.notes});if(n(!1),c.error!==null){E.error("Ocurrió un error al reportar tu mascota como perdida. Inténtalo de nuevo."),console.error(c.error);return}E.info("Tu mascota ha sido reportada como perdida."),a(`${v.petDetails}/${C.id}`,{replace:!0})};return t.jsxs(t.Fragment,{children:[t.jsx(w,{}),l&&t.jsx(b,{className:"mx-auto mt-5"}),!l&&!C&&t.jsx($,{url:v.landing,buttonText:"Entendido"}),!l&&C&&t.jsxs("div",{className:"p-5",children:[t.jsxs("h2",{className:"font-bold text-3xl mb-8",children:["Reportar a ",C.name," como"," ",C.sex==="male"?"perdido":"perdida"]}),t.jsx(o1,{onReport:L,isReporting:o})]})]})},o1=({onReport:a,isReporting:r})=>{const o=O({resolver:B(t1),defaultValues:{lastSeenDate:void 0,lastSeenAddress:void 0,contactNumber:void 0}});return t.jsx(_,{...o,children:t.jsxs("form",{onSubmit:o.handleSubmit(a),className:"space-y-6",children:[t.jsx(m,{control:o.control,name:"lastSeenDate",render:({field:n})=>t.jsxs(u,{className:"flex flex-col",children:[t.jsx(p,{children:"Última fecha en la que fue vista tu mascota"}),t.jsxs(D,{children:[t.jsx(W,{asChild:!0,children:t.jsx(h,{children:t.jsxs(M,{variant:"outline",className:z("pl-3 text-left font-normal",!n.value&&"text-muted-foreground"),children:[n.value?N(n.value,"PPP",{locale:I}):t.jsx("span",{children:"Selecciona una fecha"}),t.jsx(H,{className:"ml-auto h-4 w-4"})]})})}),t.jsx(T,{className:"w-auto p-0",align:"start",children:t.jsx(q,{mode:"single",selected:n.value,onSelect:n.onChange,disabled:l=>l>new Date||l<new Date("1900-01-01"),initialFocus:!0})})]}),t.jsx(f,{})]})}),t.jsx(m,{control:o.control,name:"lastSeenAddress",render:({field:n})=>t.jsxs(u,{children:[t.jsx(p,{children:"Dirección donde fue vista tu mascota por última vez"}),t.jsx(h,{children:t.jsx(Z,{...n,placeholder:"Ej.: Zona 10, Ciudad Capital"})}),t.jsx(f,{})]})}),t.jsx(m,{control:o.control,name:"contactNumber",render:({field:n})=>t.jsxs(u,{children:[t.jsx(p,{children:"Teléfono de contacto"}),t.jsx(h,{children:t.jsx(Z,{...n,placeholder:"Ej.: 12345678"})}),t.jsx(j,{children:"Indica un número de teléfono en donde la persona que encuentre a tu mascota pueda contactarte. Este número solo será visible si la persona escanea el tag físico de tu mascota. Ingrésalo sin guiones ni espacios."}),t.jsx(f,{})]})}),t.jsx(m,{control:o.control,name:"notes",render:({field:n})=>t.jsxs(u,{children:[t.jsx(p,{children:"Notas"}),t.jsx(h,{children:t.jsx(R,{...n})}),t.jsx(j,{children:"Puedes mencionar datos como cuidados especiales, medicamentos que está tomando actualmente u otra información para que la persona que encuentre a tu mascota la tome en cuenta."}),t.jsx(f,{})]})}),t.jsx(M,{type:"submit",className:"w-full",disabled:r,children:r?t.jsx(b,{}):t.jsx("span",{children:"Reportar"})})]})})},a1=()=>t.jsx(r1,{}),v1=P(a1);export{v1 as default};
