import{a as s,o as S}from"./chunk-LSOULM7L-DOIZURii.js";import{a as w}from"./index-BPjMvHEu.js";import{a as A,u as g}from"./button-BwhTU3xm.js";var O=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$=O.reduce((t,e)=>{const n=A(`Primitive.${e}`),r=s.forwardRef((o,i)=>{const{asChild:u,...a}=o,f=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(f,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function j(t,e){t&&w.flushSync(()=>t.dispatchEvent(e))}function L(t,e){const n=s.createContext(e),r=i=>{const{children:u,...a}=i,f=s.useMemo(()=>a,Object.values(a));return S.jsx(n.Provider,{value:f,children:u})};r.displayName=t+"Provider";function o(i){const u=s.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,o]}function W(t,e=[]){let n=[];function r(i,u){const a=s.createContext(u),f=n.length;n=[...n,u];const c=m=>{var x;const{scope:d,children:l,...v}=m,N=((x=d==null?void 0:d[t])==null?void 0:x[f])||a,P=s.useMemo(()=>v,Object.values(v));return S.jsx(N.Provider,{value:P,children:l})};c.displayName=i+"Provider";function p(m,d){var N;const l=((N=d==null?void 0:d[t])==null?void 0:N[f])||a,v=s.useContext(l);if(v)return v;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[c,p]}const o=()=>{const i=n.map(u=>s.createContext(u));return function(a){const f=(a==null?void 0:a[t])||i;return s.useMemo(()=>({[`__scope${t}`]:{...a,[t]:f}}),[a,f])}};return o.scopeName=t,[r,E(o,...e)]}function E(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const u=r.reduce((a,{useScope:f,scopeName:c})=>{const m=f(i)[`__scope${c}`];return{...a,...m}},{});return s.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function M(t){const e=s.useRef(t);return s.useEffect(()=>{e.current=t}),s.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var C=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{};function F(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function k({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=R({defaultProp:e,onChange:n}),i=t!==void 0,u=i?t:r,a=M(n),f=s.useCallback(c=>{if(i){const m=typeof c=="function"?c(t):c;m!==t&&a(m)}else o(c)},[i,t,o,a]);return[u,f]}function R({defaultProp:t,onChange:e}){const n=s.useState(t),[r]=n,o=s.useRef(r),i=M(e);return s.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}function y(t,e){return s.useReducer((n,r)=>e[n][r]??n,t)}var T=t=>{const{present:e,children:n}=t,r=b(e),o=typeof n=="function"?n({present:r.isPresent}):s.Children.only(n),i=g(r.ref,U(o));return typeof n=="function"||r.isPresent?s.cloneElement(o,{ref:i}):null};T.displayName="Presence";function b(t){const[e,n]=s.useState(),r=s.useRef({}),o=s.useRef(t),i=s.useRef("none"),u=t?"mounted":"unmounted",[a,f]=y(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const c=h(r.current);i.current=a==="mounted"?c:"none"},[a]),C(()=>{const c=r.current,p=o.current;if(p!==t){const d=i.current,l=h(c);t?f("MOUNT"):l==="none"||(c==null?void 0:c.display)==="none"?f("UNMOUNT"):f(p&&d!==l?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),C(()=>{if(e){let c;const p=e.ownerDocument.defaultView??window,m=l=>{const N=h(r.current).includes(l.animationName);if(l.target===e&&N&&(f("ANIMATION_END"),!o.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",c=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},d=l=>{l.target===e&&(i.current=h(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:s.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function h(t){return(t==null?void 0:t.animationName)||"none"}function U(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function B(t){const e=s.useRef({value:t,previous:t});return s.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}export{$ as P,C as a,F as b,W as c,k as d,T as e,B as f,L as g,j as h,M as u};
