import{a as o,A as X,o as R}from"./chunk-LSOULM7L-DOIZURii.js";import{a as j,b as N,u as T}from"./index-CGXivZb0.js";import{P as D,d as Y}from"./index-CpYXc7B6.js";import{u as U}from"./button-BwhTU3xm.js";import{f as q}from"./navbar-mFlRC7PZ.js";import{R as G}from"./index-BPjMvHEu.js";var J=X[" useInsertionEffect ".trim().toString()]||j;function Fe({prop:e,defaultProp:n,onChange:t=()=>{},caller:r}){const[i,u,c]=Q({defaultProp:n,onChange:t}),s=e!==void 0,y=s?e:i;{const a=o.useRef(e!==void 0);o.useEffect(()=>{const p=a.current;p!==s&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),a.current=s},[s,r])}const l=o.useCallback(a=>{var p;if(s){const E=Z(a)?a(e):a;E!==e&&((p=c.current)==null||p.call(c,E))}else u(a)},[s,e,u,c]);return[y,l]}function Q({defaultProp:e,onChange:n}){const[t,r]=o.useState(e),i=o.useRef(t),u=o.useRef(n);return J(()=>{u.current=n},[n]),o.useEffect(()=>{var c;i.current!==t&&((c=u.current)==null||c.call(u,t),i.current=t)},[t,i]),[t,r,u]}function Z(e){return typeof e=="function"}var ee="DismissableLayer",A="dismissableLayer.update",te="dismissableLayer.pointerDownOutside",ne="dismissableLayer.focusOutside",M,z=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),se=o.forwardRef((e,n)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:c,onDismiss:s,...y}=e,l=o.useContext(z),[a,p]=o.useState(null),E=(a==null?void 0:a.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=o.useState({}),S=U(n,f=>p(f)),d=Array.from(l.layers),[C]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=d.indexOf(C),P=a?d.indexOf(a):-1,h=l.layersWithOutsidePointerEventsDisabled.size>0,m=P>=v,L=ie(f=>{const F=f.target,_=[...l.branches].some(g=>g.contains(F));!m||_||(i==null||i(f),c==null||c(f),f.defaultPrevented||s==null||s())},E),x=ue(f=>{const F=f.target;[...l.branches].some(g=>g.contains(F))||(u==null||u(f),c==null||c(f),f.defaultPrevented||s==null||s())},E);return q(f=>{P===l.layers.size-1&&(r==null||r(f),!f.defaultPrevented&&s&&(f.preventDefault(),s()))},E),o.useEffect(()=>{if(a)return t&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(M=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(a)),l.layers.add(a),k(),()=>{t&&l.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=M)}},[a,E,t,l]),o.useEffect(()=>()=>{a&&(l.layers.delete(a),l.layersWithOutsidePointerEventsDisabled.delete(a),k())},[a,l]),o.useEffect(()=>{const f=()=>b({});return document.addEventListener(A,f),()=>document.removeEventListener(A,f)},[]),R.jsx(D.div,{...y,ref:S,style:{pointerEvents:h?m?"auto":"none":void 0,...e.style},onFocusCapture:N(e.onFocusCapture,x.onFocusCapture),onBlurCapture:N(e.onBlurCapture,x.onBlurCapture),onPointerDownCapture:N(e.onPointerDownCapture,L.onPointerDownCapture)})});se.displayName=ee;var re="DismissableLayerBranch",oe=o.forwardRef((e,n)=>{const t=o.useContext(z),r=o.useRef(null),i=U(n,r);return o.useEffect(()=>{const u=r.current;if(u)return t.branches.add(u),()=>{t.branches.delete(u)}},[t.branches]),R.jsx(D.div,{...e,ref:i})});oe.displayName=re;function ie(e,n=globalThis==null?void 0:globalThis.document){const t=T(e),r=o.useRef(!1),i=o.useRef(()=>{});return o.useEffect(()=>{const u=s=>{if(s.target&&!r.current){let y=function(){$(te,t,l,{discrete:!0})};const l={originalEvent:s};s.pointerType==="touch"?(n.removeEventListener("click",i.current),i.current=y,n.addEventListener("click",i.current,{once:!0})):y()}else n.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{n.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(c),n.removeEventListener("pointerdown",u),n.removeEventListener("click",i.current)}},[n,t]),{onPointerDownCapture:()=>r.current=!0}}function ue(e,n=globalThis==null?void 0:globalThis.document){const t=T(e),r=o.useRef(!1);return o.useEffect(()=>{const i=u=>{u.target&&!r.current&&$(ne,t,{originalEvent:u},{discrete:!1})};return n.addEventListener("focusin",i),()=>n.removeEventListener("focusin",i)},[n,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function k(){const e=new CustomEvent(A);document.dispatchEvent(e)}function $(e,n,t,{discrete:r}){const i=t.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&i.addEventListener(e,n,{once:!0}),r?Y(i,u):i.dispatchEvent(u)}var w="focusScope.autoFocusOnMount",I="focusScope.autoFocusOnUnmount",B={bubbles:!1,cancelable:!0},ae="FocusScope",ce=o.forwardRef((e,n)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:u,...c}=e,[s,y]=o.useState(null),l=T(i),a=T(u),p=o.useRef(null),E=U(n,d=>y(d)),b=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(r){let d=function(h){if(b.paused||!s)return;const m=h.target;s.contains(m)?p.current=m:O(p.current,{select:!0})},C=function(h){if(b.paused||!s)return;const m=h.relatedTarget;m!==null&&(s.contains(m)||O(p.current,{select:!0}))},v=function(h){if(document.activeElement===document.body)for(const L of h)L.removedNodes.length>0&&O(s)};document.addEventListener("focusin",d),document.addEventListener("focusout",C);const P=new MutationObserver(v);return s&&P.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",C),P.disconnect()}}},[r,s,b.paused]),o.useEffect(()=>{if(s){K.add(b);const d=document.activeElement;if(!s.contains(d)){const v=new CustomEvent(w,B);s.addEventListener(w,l),s.dispatchEvent(v),v.defaultPrevented||(le(me(V(s)),{select:!0}),document.activeElement===d&&O(s))}return()=>{s.removeEventListener(w,l),setTimeout(()=>{const v=new CustomEvent(I,B);s.addEventListener(I,a),s.dispatchEvent(v),v.defaultPrevented||O(d??document.body,{select:!0}),s.removeEventListener(I,a),K.remove(b)},0)}}},[s,l,a,b]);const S=o.useCallback(d=>{if(!t&&!r||b.paused)return;const C=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,v=document.activeElement;if(C&&v){const P=d.currentTarget,[h,m]=de(P);h&&m?!d.shiftKey&&v===m?(d.preventDefault(),t&&O(h,{select:!0})):d.shiftKey&&v===h&&(d.preventDefault(),t&&O(m,{select:!0})):v===P&&d.preventDefault()}},[t,r,b.paused]);return R.jsx(D.div,{tabIndex:-1,...c,ref:E,onKeyDown:S})});ce.displayName=ae;function le(e,{select:n=!1}={}){const t=document.activeElement;for(const r of e)if(O(r,{select:n}),document.activeElement!==t)return}function de(e){const n=V(e),t=W(n,e),r=W(n.reverse(),e);return[t,r]}function V(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function W(e,n){for(const t of e)if(!fe(t,{upTo:n}))return t}function fe(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ve(e){return e instanceof HTMLInputElement&&"select"in e}function O(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&ve(e)&&n&&e.select()}}var K=Ee();function Ee(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=H(e,n),e.unshift(n)},remove(n){var t;e=H(e,n),(t=e[0])==null||t.resume()}}}function H(e,n){const t=[...e],r=t.indexOf(n);return r!==-1&&t.splice(r,1),t}function me(e){return e.filter(n=>n.tagName!=="A")}var pe="Portal",be=o.forwardRef((e,n)=>{var s;const{container:t,...r}=e,[i,u]=o.useState(!1);j(()=>u(!0),[]);const c=t||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return c?G.createPortal(R.jsx(D.div,{...r,ref:n}),c):null});be.displayName=pe;export{se as D,ce as F,be as P,Fe as u};
