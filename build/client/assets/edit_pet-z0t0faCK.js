import{w as u}from"./with-props-C_P4RWeF.js";import{y as x,w as f,a as r,o as s}from"./chunk-LSOULM7L-DOIZURii.js";import{L as g}from"./Loader-CXAdXc2l.js";import{N as h}from"./navbar-mFlRC7PZ.js";import{C as j,a as P,b as v,e as C,c as b}from"./card-Cx2DBwdG.js";import{c as N,s as y,a as w}from"./routes-CTRM3soR.js";import{t as E}from"./index-DlVqQRiW.js";import{R}from"./RegisterPetForm-MvXL-jgZ.js";import"./loader-circle-4zLNCx83.js";import"./createLucideIcon-BXJY-pLu.js";import"./index-CGXivZb0.js";import"./index-BPjMvHEu.js";import"./button-BwhTU3xm.js";import"./textarea-C0jHllX4.js";import"./checkbox-WSwXXcMV.js";import"./index-DA7cR2i0.js";import"./check-CcO5qCS6.js";import"./command-BV_hcrUj.js";import"./index-CpYXc7B6.js";import"./index-CMz1EfI-.js";import"./input-Cc9Stvst.js";import"./popover-BE-t_-9Y.js";import"./index-BAY9dnVF.js";import"./animalTypes-zlv_8E1P.js";import"./IconBase-2_1jK8r0.js";const _=({className:i,...m})=>{const{petId:t}=x(),n=f(),[o,a]=r.useState(!0),[e,d]=r.useState(null),c=()=>{E.success("Tu mascota ha sido registrada"),n(w.myPets)};return r.useEffect(()=>{(async()=>{if(a(!0),!t){a(!1);return}const{data:l,error:p}=await y.from("pet").select("*").eq("id",t).single();p===null&&(d(l),a(!1))})()},[t]),s.jsxs(s.Fragment,{children:[s.jsx(h,{}),o&&s.jsxs("div",{className:"flex flex-col items-center mt-10",children:[s.jsx(g,{className:"mb-3"}),s.jsx("p",{children:"Cargando..."})]}),!o&&s.jsxs(j,{className:N("m-3",i),...m,children:[s.jsxs(P,{children:[s.jsx(v,{className:"text-3xl sm:text-4xl",children:"Editar Información"}),s.jsx(C,{children:"Edita la información de tu mascota. Asegúrate de que todos los detalles sean correctos."})]}),s.jsx(b,{className:"grid gap-4",children:s.jsx(R,{petId:t,onRegisterUpdated:c,previousValues:{name:(e==null?void 0:e.name)||"",birthDate:e!=null&&e.birth_date?new Date(e.birth_date):void 0,sex:e==null?void 0:e.sex,animalType:(e==null?void 0:e.animal_type)??void 0,breed:(e==null?void 0:e.breed)??void 0,spayedOrNeutered:(e==null?void 0:e.spayed_or_neutered)??void 0,image:(e==null?void 0:e.image)??void 0,notes:e==null?void 0:e.notes},isUpdate:!0})})]})]})},D=()=>s.jsx(_,{}),te=u(D);export{te as default};
