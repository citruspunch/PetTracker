import{a as o,A as X,o as L}from"./chunk-LSOULM7L-DOIZURii.js";import{a as j,h as Y,e as x,d as N,u as T}from"./index-KK9O1wv8.js";import{f as q}from"./navbar-BNK_UxnV.js";import{a as G,R as J}from"./index-BPjMvHEu.js";var Q=X[" useInsertionEffect ".trim().toString()]||j;function Se({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,u,c]=Z({defaultProp:t,onChange:n}),s=e!==void 0,y=s?e:i;{const a=o.useRef(e!==void 0);o.useEffect(()=>{const p=a.current;p!==s&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),a.current=s},[s,r])}const l=o.useCallback(a=>{var p;if(s){const m=ee(a)?a(e):a;m!==e&&((p=c.current)==null||p.call(c,m))}else u(a)},[s,e,u,c]);return[y,l]}function Z({defaultProp:e,onChange:t}){const[n,r]=o.useState(e),i=o.useRef(n),u=o.useRef(t);return Q(()=>{u.current=t},[t]),o.useEffect(()=>{var c;i.current!==n&&((c=u.current)==null||c.call(u,n),i.current=n)},[n,i]),[n,r,u]}function ee(e){return typeof e=="function"}var te=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],D=te.reduce((e,t)=>{const n=Y(`Primitive.${t}`),r=o.forwardRef((i,u)=>{const{asChild:c,...s}=i,y=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(y,{...s,ref:u})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ne(e,t){e&&G.flushSync(()=>e.dispatchEvent(t))}var se="DismissableLayer",A="dismissableLayer.update",re="dismissableLayer.pointerDownOutside",oe="dismissableLayer.focusOutside",M,$=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ie=o.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:c,onDismiss:s,...y}=e,l=o.useContext($),[a,p]=o.useState(null),m=(a==null?void 0:a.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=o.useState({}),R=x(t,f=>p(f)),d=Array.from(l.layers),[O]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=d.indexOf(O),P=a?d.indexOf(a):-1,h=l.layersWithOutsidePointerEventsDisabled.size>0,E=P>=v,F=ce(f=>{const S=f.target,_=[...l.branches].some(w=>w.contains(S));!E||_||(i==null||i(f),c==null||c(f),f.defaultPrevented||s==null||s())},m),U=le(f=>{const S=f.target;[...l.branches].some(w=>w.contains(S))||(u==null||u(f),c==null||c(f),f.defaultPrevented||s==null||s())},m);return q(f=>{P===l.layers.size-1&&(r==null||r(f),!f.defaultPrevented&&s&&(f.preventDefault(),s()))},m),o.useEffect(()=>{if(a)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(M=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(a)),l.layers.add(a),k(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=M)}},[a,m,n,l]),o.useEffect(()=>()=>{a&&(l.layers.delete(a),l.layersWithOutsidePointerEventsDisabled.delete(a),k())},[a,l]),o.useEffect(()=>{const f=()=>b({});return document.addEventListener(A,f),()=>document.removeEventListener(A,f)},[]),L.jsx(D.div,{...y,ref:R,style:{pointerEvents:h?E?"auto":"none":void 0,...e.style},onFocusCapture:N(e.onFocusCapture,U.onFocusCapture),onBlurCapture:N(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:N(e.onPointerDownCapture,F.onPointerDownCapture)})});ie.displayName=se;var ue="DismissableLayerBranch",ae=o.forwardRef((e,t)=>{const n=o.useContext($),r=o.useRef(null),i=x(t,r);return o.useEffect(()=>{const u=r.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),L.jsx(D.div,{...e,ref:i})});ae.displayName=ue;function ce(e,t=globalThis==null?void 0:globalThis.document){const n=T(e),r=o.useRef(!1),i=o.useRef(()=>{});return o.useEffect(()=>{const u=s=>{if(s.target&&!r.current){let y=function(){z(re,n,l,{discrete:!0})};const l={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=y,t.addEventListener("click",i.current,{once:!0})):y()}else t.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",u),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function le(e,t=globalThis==null?void 0:globalThis.document){const n=T(e),r=o.useRef(!1);return o.useEffect(()=>{const i=u=>{u.target&&!r.current&&z(oe,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function k(){const e=new CustomEvent(A);document.dispatchEvent(e)}function z(e,t,n,{discrete:r}){const i=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ne(i,u):i.dispatchEvent(u)}var g="focusScope.autoFocusOnMount",I="focusScope.autoFocusOnUnmount",B={bubbles:!1,cancelable:!0},de="FocusScope",fe=o.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:u,...c}=e,[s,y]=o.useState(null),l=T(i),a=T(u),p=o.useRef(null),m=x(t,d=>y(d)),b=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(r){let d=function(h){if(b.paused||!s)return;const E=h.target;s.contains(E)?p.current=E:C(p.current,{select:!0})},O=function(h){if(b.paused||!s)return;const E=h.relatedTarget;E!==null&&(s.contains(E)||C(p.current,{select:!0}))},v=function(h){if(document.activeElement===document.body)for(const F of h)F.removedNodes.length>0&&C(s)};document.addEventListener("focusin",d),document.addEventListener("focusout",O);const P=new MutationObserver(v);return s&&P.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",O),P.disconnect()}}},[r,s,b.paused]),o.useEffect(()=>{if(s){K.add(b);const d=document.activeElement;if(!s.contains(d)){const v=new CustomEvent(g,B);s.addEventListener(g,l),s.dispatchEvent(v),v.defaultPrevented||(ve(he(V(s)),{select:!0}),document.activeElement===d&&C(s))}return()=>{s.removeEventListener(g,l),setTimeout(()=>{const v=new CustomEvent(I,B);s.addEventListener(I,a),s.dispatchEvent(v),v.defaultPrevented||C(d??document.body,{select:!0}),s.removeEventListener(I,a),K.remove(b)},0)}}},[s,l,a,b]);const R=o.useCallback(d=>{if(!n&&!r||b.paused)return;const O=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,v=document.activeElement;if(O&&v){const P=d.currentTarget,[h,E]=me(P);h&&E?!d.shiftKey&&v===E?(d.preventDefault(),n&&C(h,{select:!0})):d.shiftKey&&v===h&&(d.preventDefault(),n&&C(E,{select:!0})):v===P&&d.preventDefault()}},[n,r,b.paused]);return L.jsx(D.div,{tabIndex:-1,...c,ref:m,onKeyDown:R})});fe.displayName=de;function ve(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(C(r,{select:t}),document.activeElement!==n)return}function me(e){const t=V(e),n=W(t,e),r=W(t.reverse(),e);return[n,r]}function V(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function W(e,t){for(const n of e)if(!Ee(n,{upTo:t}))return n}function Ee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pe(e){return e instanceof HTMLInputElement&&"select"in e}function C(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&pe(e)&&t&&e.select()}}var K=be();function be(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=H(e,t),e.unshift(t)},remove(t){var n;e=H(e,t),(n=e[0])==null||n.resume()}}}function H(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function he(e){return e.filter(t=>t.tagName!=="A")}var ye="Portal",Pe=o.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[i,u]=o.useState(!1);j(()=>u(!0),[]);const c=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return c?J.createPortal(L.jsx(D.div,{...r,ref:t}),c):null});Pe.displayName=ye;export{ie as D,fe as F,D as P,Pe as a,ne as d,Se as u};
