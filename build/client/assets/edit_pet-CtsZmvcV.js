import{w as u}from"./with-props-C_P4RWeF.js";import{y as x,w as f,a as r,o as s}from"./chunk-LSOULM7L-DOIZURii.js";import{L as g}from"./Loader-Co2d-Jsj.js";import{N as h}from"./navbar-BNK_UxnV.js";import{C as j,a as P,b as v,f as C,d as b,R as N}from"./RegisterPetForm-Dx_WHBln.js";import{c as y,s as w,a as E}from"./createLucideIcon-CLtTwt0x.js";import{t as R}from"./index-DlVqQRiW.js";import"./loader-circle-Dtw2UbxQ.js";import"./index-KK9O1wv8.js";import"./index-BPjMvHEu.js";import"./textarea-BLlpFkxC.js";import"./checkbox-wubUU82e.js";import"./input-BMp6xtz3.js";import"./check-DtsZv3Tn.js";import"./command-m-qbOHV3.js";import"./index-BaeFmNgZ.js";import"./index-K-pNMs4F.js";import"./animalTypes-zlv_8E1P.js";import"./IconBase-2_1jK8r0.js";const _=({className:i,...n})=>{const{petId:a}=x(),d=f(),[o,t]=r.useState(!0),[e,m]=r.useState(null),c=()=>{R.success("Tu mascota ha sido registrada"),d(E.myPets)};return r.useEffect(()=>{(async()=>{if(t(!0),!a){t(!1);return}const{data:l,error:p}=await w.from("pet").select("*").eq("id",a).single();p===null&&(m(l),t(!1))})()},[a]),s.jsxs(s.Fragment,{children:[s.jsx(h,{}),o&&s.jsxs("div",{className:"flex flex-col items-center mt-10",children:[s.jsx(g,{className:"mb-3"}),s.jsx("p",{children:"Cargando..."})]}),!o&&s.jsxs(j,{className:y("m-3",i),...n,children:[s.jsxs(P,{children:[s.jsx(v,{className:"text-3xl sm:text-4xl",children:"Editar Información"}),s.jsx(C,{children:"Edita la información de tu mascota. Asegúrate de que todos los detalles sean correctos."})]}),s.jsx(b,{className:"grid gap-4",children:s.jsx(N,{petId:a,onRegisterUpdated:c,previousValues:{name:(e==null?void 0:e.name)||"",birthDate:e!=null&&e.birth_date?new Date(e.birth_date):void 0,sex:e==null?void 0:e.sex,animalType:(e==null?void 0:e.animal_type)??void 0,breed:(e==null?void 0:e.breed)??void 0,spayedOrNeutered:(e==null?void 0:e.spayed_or_neutered)??void 0,image:(e==null?void 0:e.image)??void 0,notes:e==null?void 0:e.notes},isUpdate:!0})})]})]})},D=()=>s.jsx(_,{}),X=u(D);export{X as default};
